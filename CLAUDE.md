# Claude-Mem Development Instructions

**WICHTIG: Alle Anweisungen in dieser Datei sind verbindlich und mÃ¼ssen strikt befolgt werden!**

## Workflow

### Commits & Push

- **Pro Issue mindestens ein Commit** (gerne auch mehr bei grÃ¶ÃŸeren Ã„nderungen)
- **Pushen nur mit Freigabe vom User**, auÃŸer der Prompt am Anfang erlaubt direktes Pushen
- Bei mehreren Issues: Pro Issue eigene Commits erstellen, dann am Ende gesammelt pushen (nach Freigabe)

### Issues umsetzen

- **Issues IMMER komplett umsetzen** - nicht in Phasen oder Teilschritten
- Erst mit dem nÃ¤chsten Issue beginnen, wenn das aktuelle vollstÃ¤ndig abgeschlossen ist
- Bei Blockern oder Unklarheiten: User fragen, nicht teilweise implementieren

### CLAUDE.md Dateien

- **Automatisch generierte CLAUDE.md-Dateien regelmÃ¤ÃŸig mit committen**
- Diese Dateien werden vom Plugin automatisch aktualisiert
- User-Content auÃŸerhalb der generierten Bereiche bleibt erhalten

## Technische Details

### Monorepo-Struktur

```
packages/
â”œâ”€â”€ backend/     # Express API Server
â”œâ”€â”€ database/    # MikroORM Entities & Repositories
â”œâ”€â”€ hooks/       # Claude Code Hook Handlers
â”œâ”€â”€ shared/      # Shared Utilities (Logger, Settings)
â”œâ”€â”€ types/       # TypeScript Interfaces
â”œâ”€â”€ ui/          # React/Vite Frontend
â””â”€â”€ worker/      # AI Task Processing
plugin/          # Claude Code Plugin
```

### Wichtige Befehle

```bash
# Development
pnpm dev              # Build plugin + sync to marketplace
pnpm build            # Build all packages
pnpm test             # Run tests
pnpm typecheck        # TypeScript check (1x ausfÃ¼hren bis "Done", bei unklarer Ausgabe Script anpassen)
pnpm sync-marketplace # Sync plugin to Claude marketplace
pnpm dev:restart      # Restart dev services

# Einzelne Packages builden
pnpm build:backend    # Backend only
pnpm build:worker     # Worker only
pnpm build:hooks      # Hooks only
pnpm build:plugin     # Plugin only

# Docker
pnpm docker:up        # Start containers
pnpm docker:down      # Stop containers
pnpm docker:logs      # View logs
```

### Issue-Tracker

- Repository: `customable/claude-mem` auf Forgejo
- Labels werden automatisch gesetzt (priority, type)
- **Kommentare und Attachments in Issues IMMER prÃ¼fen** - kÃ¶nnen wichtige Informationen enthalten
- **Blocks und Dependencies beachten** - Issues kÃ¶nnen andere blockieren oder von anderen abhÃ¤ngen

### UI-Referenzen

- Screenshots und Design-Referenzen: `~/references`

### Bei grÃ¶ÃŸeren Ã„nderungen

Nach Ã„nderungen an Backend, Worker oder Hooks:

1. **Plugin builden und syncen:**
   ```bash
   pnpm build && pnpm sync-marketplace
   ```

2. **Backend-Erreichbarkeit prÃ¼fen:**
   - Nach Neustart testen ob Backend erreichbar ist
   - Falls nicht erreichbar: Erst stoppen, dann **ohne** `-head` oder `-tail` neustarten
   - Direkt die JS-Datei ausfÃ¼hren um vollstÃ¤ndigen Log zu sehen:
     ```bash
     node packages/backend/dist/cli.js start
     ```

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Jan 25, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #2961 | 7:39 PM | ğŸ”µ | Located UI App component file | ~1008 |
| #2960 | 7:39 PM | ğŸ“ | Implementation Complete Documentation | ~1701 |
| #2959 | 7:39 PM | ğŸ”µ | [Compressed] mcp__forgejo__edit_issue | ~174 |
| #2958 | 7:39 PM | ğŸ”µ | Issue 305 has no comments | ~1007 |
| #2957 | 7:39 PM | ğŸ”µ | Performance issue: Large JavaScript bundle (780 kB) | ~1736 |
| #2956 | 7:38 PM | ğŸ“‹ | Selected Issue #305: Split JS Bundle for Performance Optimization | ~1546 |
| #2955 | 7:38 PM | ğŸ”µ | [Compressed] mcp__forgejo__get_issue | ~184 |
| #2954 | 7:38 PM | ğŸ“‹ | Issue #260 Implementation Status and Recommendation | ~1836 |
| #2953 | 7:38 PM | ğŸ”µ | [Compressed] mcp__forgejo__list_issue_comments | ~206 |
| #2952 | 7:38 PM | ğŸ“‹ | Issue #260 Implementation Status and Recommendation | ~2319 |
| #2951 | 7:37 PM | ğŸ”µ | [Compressed] Task | ~246 |
| #2950 | 7:37 PM | ğŸ”µ | User Task Types and Repository Interface | ~2193 |
| #2949 | 7:37 PM | ğŸ”µ | [Compressed] Task | ~256 |
| #2948 | 7:37 PM | ğŸ”µ | [Compressed] Task | ~288 |
| #2947 | 7:37 PM | ğŸ”µ | Searching for subagent and task-related code patterns | ~1173 |
| #2946 | 7:37 PM | ğŸ”µ | Discovered UserTaskRepository implementation for CLI task management | ~2274 |
| #2945 | 7:37 PM | ğŸ”µ | Task Entity Structure Analysis | ~1715 |
| #2944 | 7:37 PM | ğŸ”µ | Finding files related to "task" in types package | ~1244 |
| #2943 | 7:36 PM | ğŸ”µ | Backend route files discovered | ~1639 |
| #2942 | 7:36 PM | ğŸ”µ | [Compressed] Read | ~223 |
| #2941 | 7:36 PM | ğŸ”µ | Hook Handlers Registry Architecture | ~1780 |
| #2940 | 7:36 PM | ğŸ”µ | Subagent Stop Hook Handler Implementation | ~1589 |
| #2939 | 7:36 PM | ğŸ”µ | [Compressed] Read | ~172 |
| #2938 | 7:36 PM | ğŸ”µ | Discovered CSS files in UI package | ~1157 |
| #2937 | 7:36 PM | ğŸ”µ | [Compressed] Read | ~185 |
| #2936 | 7:36 PM | ğŸ”µ | Search for repository interfaces in database types | ~1043 |
| #2935 | 7:36 PM | ğŸ”µ | [Compressed] Read | ~150 |
| #2934 | 7:36 PM | ğŸ”µ | Sidebar Component Structure and Navigation Logic | ~2179 |
| #2933 | 7:36 PM | ğŸ”µ | Discovered UI package TypeScript files | ~1375 |
| #2932 | 7:36 PM | ğŸ”µ | [Compressed] Read | ~134 |

## Key Insights

- **Performance Optimization Focus**: Issue #305 (large JS bundle) selected as next task, indicating performance is a priority.
- **Task System Architecture**: Discovered comprehensive task management system with UserTask entity, repository, and lifecycle states.
- **Real-time Communication**: Progress on WebSocket/SSE integration with ChannelManager and WorkerHub extensions.
- **UI Structure**: Identified UI components using Tailwind CSS, DaisyUI, and responsive navigation patterns.
- **Implementation Status**: Issue #260 already implemented across backend, API, and UI layers - documentation needed.
</claude-mem-context>
