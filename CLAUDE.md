# Claude-Mem Development Instructions

**WICHTIG: Alle Anweisungen in dieser Datei sind verbindlich und mÃ¼ssen strikt befolgt werden!**

## Workflow

### Commits & Push

- **Pro Issue mindestens ein Commit** (gerne auch mehr bei grÃ¶ÃŸeren Ã„nderungen)
- **Pushen nur mit Freigabe vom User**, auÃŸer der Prompt am Anfang erlaubt direktes Pushen
- Bei mehreren Issues: Pro Issue eigene Commits erstellen, dann am Ende gesammelt pushen (nach Freigabe)

### Issues umsetzen

- **Issues IMMER komplett umsetzen** - nicht in Phasen oder Teilschritten
- Erst mit dem nÃ¤chsten Issue beginnen, wenn das aktuelle vollstÃ¤ndig abgeschlossen ist
- Bei Blockern oder Unklarheiten: User fragen, nicht teilweise implementieren

### CLAUDE.md Dateien

- **Automatisch generierte CLAUDE.md-Dateien regelmÃ¤ÃŸig mit committen**
- Diese Dateien werden vom Plugin automatisch aktualisiert
- User-Content auÃŸerhalb der generierten Bereiche bleibt erhalten

## Technische Details

### Monorepo-Struktur

```
packages/
â”œâ”€â”€ backend/     # Express API Server
â”œâ”€â”€ database/    # MikroORM Entities & Repositories
â”œâ”€â”€ hooks/       # Claude Code Hook Handlers
â”œâ”€â”€ shared/      # Shared Utilities (Logger, Settings)
â”œâ”€â”€ types/       # TypeScript Interfaces
â”œâ”€â”€ ui/          # React/Vite Frontend
â””â”€â”€ worker/      # AI Task Processing
plugin/          # Claude Code Plugin
```

### Wichtige Befehle

```bash
# Development
pnpm dev              # Build plugin + sync to marketplace
pnpm build            # Build all packages
pnpm test             # Run tests
pnpm typecheck        # TypeScript check (1x ausfÃ¼hren bis "Done", bei unklarer Ausgabe Script anpassen)
pnpm sync-marketplace # Sync plugin to Claude marketplace
pnpm dev:restart      # Restart dev services

# Einzelne Packages builden
pnpm build:backend    # Backend only
pnpm build:worker     # Worker only
pnpm build:hooks      # Hooks only
pnpm build:plugin     # Plugin only

# Docker
pnpm docker:up        # Start containers
pnpm docker:down      # Stop containers
pnpm docker:logs      # View logs
```

### Issue-Tracker

- Repository: `customable/claude-mem` auf Forgejo
- Labels werden automatisch gesetzt (priority, type)
- **Kommentare und Attachments in Issues IMMER prÃ¼fen** - kÃ¶nnen wichtige Informationen enthalten
- **Blocks und Dependencies beachten** - Issues kÃ¶nnen andere blockieren oder von anderen abhÃ¤ngen

### UI-Referenzen

- Screenshots und Design-Referenzen: `~/references`

### Bei grÃ¶ÃŸeren Ã„nderungen

Nach Ã„nderungen an Backend, Worker oder Hooks:

1. **Plugin builden und syncen:**
   ```bash
   pnpm build && pnpm sync-marketplace
   ```

2. **Backend-Erreichbarkeit prÃ¼fen:**
   - Nach Neustart testen ob Backend erreichbar ist
   - Falls nicht erreichbar: Erst stoppen, dann **ohne** `-head` oder `-tail` neustarten
   - Direkt die JS-Datei ausfÃ¼hren um vollstÃ¤ndigen Log zu sehen:
     ```bash
     node packages/backend/dist/cli.js start
     ```

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Jan 25, 2026

| ID    | Time       | T | Title                                                                 | Read       |
|-------|------------|---|-----------------------------------------------------------------------|------------|
| #1771 | 4:20 PM    | ðŸŸ  | Add writer:pause/resume SSE event types to backend                     | ~899       |
| #1770 | 4:20 PM    | ðŸŸ  | Add pause/resume event handling to SSE-Writer                         | ~807       |
| #1769 | 4:20 PM    | ðŸŸ  | Add interactive charts and comparison mode to Analytics view          | ~1057      |
| #1768 | 4:20 PM    | ðŸŸ£ | Updated TypeScript check command documentation                        | ~3032      |
| #1767 | 4:20 PM    | ðŸŸ  | Task created: Pause writer during git operations                      | ~875       |
| #1766 | 4:20 PM    | ðŸ”µ | Issue #288: SSE-Writer interferes with Git operations                 | ~2419      |
| #1765 | 4:20 PM    | ðŸ”µ | Git status shows local changes and unpushed commits                   | ~910       |
| #1764 | 4:19 PM    | ðŸŸ£ | Comparison mode changed to UI-only placeholder                        | ~5900      |
| #1763 | 4:19 PM    | ðŸŸ£ | Task status updated to completed                                      | ~711       |
| #1762 | 4:19 PM    | ðŸŸ£ | Task 2 status updated to completed                                    | ~694       |
| #1761 | 4:19 PM    | ðŸŸ£ | Task 3 status updated to completed                                    | ~734       |
| #1760 | 4:19 PM    | âœ… | TypeScript typecheck verification                                      | ~831       |
| #1759 | 4:19 PM    | ðŸ”´ | Fix tooltip callback parameter in types chart                         | ~6236      |
| #1758 | 4:19 PM    | ðŸŸ£ | Updated development instructions for backend and plugin workflow       | ~2255      |
| #1757 | 4:19 PM    | ðŸŸ  | Implement mock comparison data generation                             | ~6264      |
| #1756 | 4:19 PM    | ðŸŸ£ | Added reminder about issue dependencies in development instructions    | ~1880      |
| #1755 | 4:18 PM    | ðŸŸ£ | Added reminder to check issue comments and attachments                | ~1882      |
| #1754 | 4:18 PM    | ðŸ”µ | Analytics View Component Structure                                     | ~5840      |
| #1753 | 4:18 PM    | ðŸŸ  | Enhanced ChartCard component with chart type toggle and hint           | ~6793      |
| #1752 | 4:18 PM    | ðŸŸ£ | Added UI references section to CLAUDE.md                              | ~1766      |
| #1751 | 4:17 PM    | ðŸŸ  | Added dynamic chart type switching in fullscreen modal                 | ~6739      |
| #1750 | 4:17 PM    | ðŸ”µ | Project structure and build system analysis                           | ~1583      |
| #1749 | 4:17 PM    | ðŸŸ£ | Updated development commands in CLAUDE.md                             | ~3489      |
| #1748 | 4:16 PM    | ðŸŸ  | Added comparison toggle and active filters UI to Analytics view       | ~6879      |
| #1747 | 4:16 PM    | ðŸŸ  | Added chart type toggle functionality to Analytics view               | ~6793      |
| #1746 | 4:16 PM    | ðŸŸ  | Added comparison mode to analytics timeline                           | ~6333      |
| #1745 | 4:16 PM    | ðŸŸ  | Added chart type toggles and comparison mode to Analytics view        | ~6324      |
| #1744 | 4:16 PM    | ðŸŸ  | Added ChartType type for chart visualization options                   | ~5728      |
| #1743 | 4:16 PM    | ðŸŸ  | Added interactive chart filtering capabilities                        | ~6887      |
| #1742 | 4:16 PM    | ðŸŸ  | Added comparison mode to analytics charts                             | ~7373      |

## Key Insights

- **SSE-Writer Git Conflict**: The SSE-Writer causes race conditions during Git operations (commits, rebases, merges). A solution is being implemented to pause/resume the writer during Git commands (#1767, #1766).
- **Analytics Enhancements**: Major updates to the Analytics view, including interactive chart toggles (line/bar), comparison mode with mock data, and dynamic filtering (#1769, #1748, #1747).
- **Task Management Progress**: Multiple tasks marked as completed, indicating active development and task tracking (#1763, #1762, #1761).
- **TypeScript Validation**: Recent TypeScript checks passed for 7/8 workspace projects, confirming codebase integrity (#1760).
- **Documentation Improvements**: Updated CLAUDE.md with development workflows, UI references, and issue-tracking guidelines (#1768, #1758, #1756).
</claude-mem-context>
