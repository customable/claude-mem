# Claude-Mem Development Instructions

**WICHTIG: Alle Anweisungen in dieser Datei sind verbindlich und mÃ¼ssen strikt befolgt werden!**

## Workflow

### Commits & Push

- **Pro Issue mindestens ein Commit** (gerne auch mehr bei grÃ¶ÃŸeren Ã„nderungen)
- **Pushen nur mit Freigabe vom User**, auÃŸer der Prompt am Anfang erlaubt direktes Pushen
- Bei mehreren Issues: Pro Issue eigene Commits erstellen, dann am Ende gesammelt pushen (nach Freigabe)

### Issues umsetzen

- **Issues IMMER komplett umsetzen** - nicht in Phasen oder Teilschritten
- Erst mit dem nÃ¤chsten Issue beginnen, wenn das aktuelle vollstÃ¤ndig abgeschlossen ist
- Bei Blockern oder Unklarheiten: User fragen, nicht teilweise implementieren

### CLAUDE.md Dateien

- **Automatisch generierte CLAUDE.md-Dateien regelmÃ¤ÃŸig mit committen**
- Diese Dateien werden vom Plugin automatisch aktualisiert
- User-Content auÃŸerhalb der generierten Bereiche bleibt erhalten

## Technische Details

### Monorepo-Struktur

```
packages/
â”œâ”€â”€ backend/     # Express API Server
â”œâ”€â”€ database/    # MikroORM Entities & Repositories
â”œâ”€â”€ hooks/       # Claude Code Hook Handlers
â”œâ”€â”€ shared/      # Shared Utilities (Logger, Settings)
â”œâ”€â”€ types/       # TypeScript Interfaces
â”œâ”€â”€ ui/          # React/Vite Frontend
â””â”€â”€ worker/      # AI Task Processing
plugin/          # Claude Code Plugin
```

### Wichtige Befehle

```bash
# Development
pnpm dev              # Build plugin + sync to marketplace
pnpm build            # Build all packages
pnpm test             # Run tests
pnpm typecheck        # TypeScript check (1x ausfÃ¼hren bis "Done", bei unklarer Ausgabe Script anpassen)
pnpm sync-marketplace # Sync plugin to Claude marketplace
pnpm dev:restart      # Restart dev services

# Einzelne Packages builden
pnpm build:backend    # Backend only
pnpm build:worker     # Worker only
pnpm build:hooks      # Hooks only
pnpm build:plugin     # Plugin only

# Docker
pnpm docker:up        # Start containers
pnpm docker:down      # Stop containers
pnpm docker:logs      # View logs
```

### Issue-Tracker

- Repository: `customable/claude-mem` auf Forgejo
- Labels werden automatisch gesetzt (priority, type)
- **Kommentare und Attachments in Issues IMMER prÃ¼fen** - kÃ¶nnen wichtige Informationen enthalten
- **Blocks und Dependencies beachten** - Issues kÃ¶nnen andere blockieren oder von anderen abhÃ¤ngen

### UI-Referenzen

- Screenshots und Design-Referenzen: `~/references`

### Bei grÃ¶ÃŸeren Ã„nderungen

Nach Ã„nderungen an Backend, Worker oder Hooks:

1. **Plugin builden und syncen:**
   ```bash
   pnpm build && pnpm sync-marketplace
   ```

2. **Backend-Erreichbarkeit prÃ¼fen:**
   - Nach Neustart testen ob Backend erreichbar ist
   - Falls nicht erreichbar: Erst stoppen, dann **ohne** `-head` oder `-tail` neustarten
   - Direkt die JS-Datei ausfÃ¼hren um vollstÃ¤ndigen Log zu sehen:
     ```bash
     node packages/backend/dist/cli.js start
     ```

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Jan 25, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #3176 | 8:06 PM | ğŸ“‹ | Feature prioritization labels added | ~1118 |
| #3175 | 8:06 PM | ğŸ“‹ | OpenHands integration plan created | ~2663 |
| #3174 | 8:06 PM | â˜‘ï¸ | Labels added to issue #310 | ~1117 |
| #3173 | 8:06 PM | ğŸ”µ | Settings.ts changes verified | ~1105 |
| #3172 | 8:06 PM | ğŸ”µ | Legacy settings migration discovered | ~1839 |
| #3171 | 8:06 PM | â˜‘ï¸ | Labels added to issue #311 | ~1103 |
| #3170 | 8:06 PM | ğŸ“‹ | Goose integration plan created | ~2505 |
| #3169 | 8:06 PM | ğŸ“‹ | Cline integration plan created | ~2595 |
| #3168 | 8:06 PM | ğŸ“‹ | Gemini CLI integration plan | ~2560 |
| #3167 | 8:06 PM | ğŸ“‹ | Codex CLI integration plan | ~3202 |
| #3166 | 8:05 PM | ğŸ”µ | Multi-database support discovered | ~1634 |
| #3165 | 8:05 PM | ğŸŸ  | Added DATABASE_URL parsing | ~2148 |
| #3164 | 8:05 PM | ğŸ”µ | MikroORM database drivers found | ~1661 |
| #3163 | 8:05 PM | ğŸ”µ | Settings loading logic analyzed | ~1732 |
| #3162 | 8:05 PM | ğŸ”µ | MikroORM multi-database config | ~2458 |
| #3160 | 8:05 PM | ğŸ”µ | GitHub workflows in dependencies | ~2279 |
| #3158 | 8:04 PM | ğŸ”µ | Root markdown files discovered | ~1234 |
| #3155 | 8:03 PM | ğŸ”µ | Multi-database feature request | ~1747 |
| #3154 | 8:03 PM | ğŸ”µ | CI/CD workflows in .forgejo | ~1094 |
| #3153 | 8:03 PM | âš™ï¸ | CI workflow configuration | ~1954 |
| #3151 | 8:03 PM | ğŸ”µ | Monorepo structure analyzed | ~1943 |
| #3148 | 8:02 PM | ğŸ”µ | Recent commits reviewed | ~1431 |
| #3147 | 8:02 PM | ğŸ“ | Auto-generated CLAUDE.md files | ~1228 |

## Key Insights

- **Integration Roadmap**: Multiple AI tool integrations (OpenHands, Goose, Cline, Gemini CLI, Codex CLI) are being planned with detailed implementation strategies.
- **Database Evolution**: PostgreSQL support was added alongside SQLite, with migration tools and connection string parsing for multi-database compatibility.
- **Project Rebranding**: The project is transitioning to "remembr" with new infrastructure and SaaS-focused architecture.
- **CI/CD Pipeline**: Forgejo workflows are configured for automated testing, building, and deployment across the monorepo.
- **Documentation Focus**: Auto-generated CLAUDE.md files are being maintained to keep documentation synchronized with code changes.
</claude-mem-context>
